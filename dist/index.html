<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>GrapesJS Plugin Image Manager</title>
    <link href="https://unpkg.com/grapesjs/dist/css/grapes.min.css" rel="stylesheet">
    <script src="https://unpkg.com/grapesjs"></script>
    <script src="index.js"></script>
    <style>
        body, html{ height: 100%; margin: 0;}
    </style>
</head>
<body>

<div id="gjs" style="height:0px; overflow:hidden">
    <img src="http://placehold.it/350x250/78c5d6/fff/image1.jpg"/>
</div>

<script type="text/javascript">
    var editor = grapesjs.init({
        height: '100%',
        noticeOnUnload: 0,
        storageManager:{autoload: 0},
        container : '#gjs',
        fromElement: true,
        assetManager: {
            assets: [
                { type: 'image', src : 'http://placehold.it/350x250/78c5d6/fff/image1.jpg', height:350, width:250},
            ]
        },
        plugins: ['gjs-image-manager'],
        pluginsOpts: {
            'gjs-image-manager': {
              url: 'http://localhost/api/file-manager',
              headers: {
                'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6Ijg1YzliMmNjYzAwMjUyOTU0YTM3ZmI2YmM3NDJjMDM0YjA0ZDYwNmJjN2M1Nzk1NjU0NzQ2MTAyZmFiNjM5NTIxN2YzZGFkMDE2MDU3ZDljIn0.eyJhdWQiOiIxIiwianRpIjoiODVjOWIyY2NjMDAyNTI5NTRhMzdmYjZiYzc0MmMwMzRiMDRkNjA2YmM3YzU3OTU2NTQ3NDYxMDJmYWI2Mzk1MjE3ZjNkYWQwMTYwNTdkOWMiLCJpYXQiOjE1NDg2NjA2MzUsIm5iZiI6MTU0ODY2MDYzNSwiZXhwIjoxNTgwMTk2NjM1LCJzdWIiOiIxIiwic2NvcGVzIjpbXX0.NxKRazsaVeN2Oq3UGR93JPACAG1nnqoVC37EE5dI3PmHERgLNMnRF4lvOn7r69GxhcxJ3HAmCIxyUuGsDckJFP0Cr274pYQQkN3Xu8phYIuel8PW-3d9WW5PZejCxqHi7K2wTaEwkHMoY1UoaWq9ubDKmZZ317kRxwwb_WBKLre-2PUerY0IFH69ei-Lf3dRz9oRJjCp08zqKzLvMzFZf1UgqeKvl4KEmEhA1l3bWGu20Hu6M-rXhGntBrfCh41pwneTGcP98Sg9unkyhH9jrWv-X_4TvKxBtDCQvYJ1IQVTvq54QcTSSw4MwjzQPxX39UOiJU2mzVVVgZSbDLfOzr3NDR09nmxb3YJvAHR2HkiRrhejKW2asvPoTw4gksOhj40X2pGwEzlTAbL6WCcwVqaRW53eLCoV-sXRNx_D_IZ6qd01nrklWKpkexUh0seTO8Nr4aPWJKjhfQ9HnaPyuGxqvNl6YYZJgvCkjzmO9oSGhBWjRDsj_8mHeO45Rn776bRHmPBfQO9serBoKihJFpSVAUe5_BkPgBAqj9s6Vrb628Kikua8tclI0aYL7bFRzJvlCBpzw6kNIom6GTHYLCEJQ4cvmbfUi4TRaj0-IGwZgH5gvQEjn3sJmGcfmc3GQWtWbU95_7Ei--apbT_G0O27K--WuPbcGLPrsMUcGrc'
              },
              beforeSetSrc: (src) => {
                return 'http://localhost/' + src;
              },
              beforeSend: function (path) {
                return path.split('/').slice(1).join('/');
              }
            }
        }
    });
</script>
<script type="text/javascript" src="index.js"></script></body>
</html>
